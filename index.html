<!DOCTYPE html>
<html>
<head>
  <title>Shengwei Li's Homepage</title>

  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
  <!-- Optional theme -->
  <!-- <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css"> -->
  <link rel="stylesheet" href="main.css">
</head>

<body>
  <div id="container">
    <!-- ======================== My Life ======================== -->
    <div id="life">
      <nav class="navbar navbar-inverse" role="navigation">
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul id="life-tabs" class="nav navbar-nav">
            <li class="active"><a href="#home" data-toggle="tab">Home</a></li>
            <li><a href="#books" data-toggle="tab">Books</a></li>
            <li><a href="#movies" data-toggle="tab">Movies</a></li>
            <li><a href="#traveling">Traveling</a></li>
          </ul>
        </div>
      </nav>
      
      <div class="tab-content">

        <!-- >>>>>>>>>>>>> Home <<<<<<<<<<<<< -->
        <div id="home" class="tab-pane fade in active">
          <div id="weibo" class="panel panel-customized">
            <div class="panel-heading">
              <div class="media">
                <div class="pull-left">
                  <img class="media-object img-rounded" alt="avatar">
                </div>
                <div class="media-body">
                  <h4 class="media-heading"><a href="#" target="_blank">Weibo</a></h4>
                  <h5>
                    <span id="followings_count" class="label label-info label-space"></span>
                    <span id="followers_count" class="label label-info label-space"></span>
                    <span id="posts_count" class="label label-info label-space"></span>
                  </h5>
                </div>
              </div>
            </div>
            <ul id="posts" class="list-group"></ul>
          </div>
        </div>

        <!-- >>>>>>>>>>>>> Books <<<<<<<<<<<<< -->
        <div id="books" class="tab-pane fade">
          <div id="book-detail" class="pull-left">
            <div class="panel panel-customized">
              <div class="panel-heading"></div>
              <div class="panel-body">
                <div class="media">
                  <a class="pull-left" href="#" target="_blank">
                    <img class="media-object img-rounded" alt="poster">
                  </a>
                  <div class="media-body"></div>
                </div>
                <div id="comment" class="well"></div>
              </div>
            </div>
          </div>
          <div id="book-list" class="pull-right">
            <div class="panel panel-customized">
              <div class="panel-heading">Have Read</div>
              <ul id="read" class="list-group"></ul>
            </div>
            <div class="panel panel-customized">
              <div class="panel-heading">Wish to Read</div>
              <ul id="wish" class="list-group"></ul>
            </div>
          </div>
        </div>

        <!-- >>>>>>>>>>>>> Movies <<<<<<<<<<<<< -->
        <div id="movies" class="tab-pane fade">
          <div class="panel">
            <div class="panel-heading">US Top Box</div>
            <div class="panel-body">
              <div class=" pull-left">
                <table class="table-hover">
                  <thead><tr></tr></thead>
                  <tbody></tbody>
                </table>
                <div id="movie-summary"></div>
              </div>
              <div id="movie-detail" class="well well-sm pull-right">
                <div class="panel">
                  <div class="panel-heading">
                    <div class="media">
                      <a href="#" target="_blank">
                        <img class="media-object img-rounded" alt="poster">
                      </a>
                    </div>
                  </div>
                  <ul class="list-group"></ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- >>>>>>>>>>>>> Traveling <<<<<<<<<<<<< -->
        <div id="traveling" class="tab-pane fade">
          <div class="panel panel-customized">
            <div class="panel-heading">Before I die, I want to ...</div>
            <ul id="travel-list" class="list-group">
              <li class="list-group-item">Go to Arctic for camping <a href="http://e.weibo.com/2255154723/A5namDXId">[pics]</a></li>
              <li class="list-group-item"><a href="http://en.wikipedia.org/wiki/Banff_National_Park">Banff National Park (CA)</a></li>
            </ul>
          </div>
        </div>
      </div>

    </div><!-- END OF TAB-CONTENT -->

    <!-- ======================== My work ======================== -->
    <div id="work">
      <nav class="navbar navbar-default" role="navigation">
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul id="work-tabs" class="nav navbar-nav">
            <li class="active"><a href="#career" data-toggle="tab">Career</a></li>
            <li><a href="#projects" data-toggle="tab">Projects</a></li>
            <li><a href="#about" data-toggle="tab">About</a></li>
          </ul>
        </div>
      </nav>

      <div class="tab-content">

        <!-- >>>>>>>>>>>>> Career <<<<<<<<<<<<< -->
        <div id="career" class="tab-pane fade in active">
          Linked-in profile...
        </div>

        <!-- >>>>>>>>>>>>> Projects <<<<<<<<<<<<< -->
        <div id="projects" class="tab-pane fade">
          My projects on Github
        </div>

        <!-- >>>>>>>>>>>>> About <<<<<<<<<<<<< -->
        <div id="about" class="tab-pane fade">
          <strong>Credits</strong>
          <ul>
            <li>Facebook API:
              While trying to get access_token, I always got the following response, although the redirect_uri I used for /dialog/oauth and /oauth/access_token are the same "http://shengwei.li"
              <code>
                {
                   "error": {
                      "message": "Error validating verification code. Please make sure your redirect_uri is identical to the one you used in the OAuth dialog request",
                      "type": "OAuthException",
                      "code": 100
                   }
                }
                The key issue is that /dialog/oauth will append a dash ("/") to the url, while /oauth/access_token will not. Hence "http://shengwei.li/" does not match with "http://shengwei.li".
                Found this from the observation of redirected url from /dialog/oauth (which was http://shengwei.li/?code=...). Also found this thread later on stackoverflow:
                http://stackoverflow.com/questions/12996864/redirect-uri-error-in-oauth-for-facebook-django-app
                It is also mentioned a couple of times here: http://stackoverflow.com/questions/4386691/facebook-error-error-validating-verification-code (not the most voted answer -- as early as in 2011)
              </code>
            </li>
            <li>Linked-In API:
              Instead of use state for /uas/oauth2/accessToken, it makes the life expectancy of code very short. Making the second call manually would probably leave the code expired and get the following very vague response:
              <code>
                {"error":"invalid_request","error_description":"missing required parameters, includes an invalid parameter value, parameter more then once. : Unable to retrieve access token : appId or redirect uri does not match authorization code or authorization code expired"}
              </code>
              BTW, the second request does not need to be POST, GET also works.
            </li>
          </ul>
          
        </div>

      </div>
    </div>

    <div id="divider"></div>
  </div>

  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

  <script src="main.js"></script>
</body>
</html>